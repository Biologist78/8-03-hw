# `Домашнее работа к занятию «Базы данных, их типы»`

# **Задание 1**
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.
Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

1.1 СУБД PostgreSQL под 1С ERP тк базовая архитектура - это OLTP, но также имеется и часть OLAP (регистры). В крупных компаниях, где существуют как задачи по оперативному вводу данных, так и задачи по глубокому анализу за большой временной интервал, следует разбивать данные на 2 системы. Рекомендуется выгружать из 1С сгенерированные данные в систему BI с OLAP архитектурой. Например, Click View и др.
1.2 Колоночная аналитическая СУБД с открытым кодом, позволяющая выполнять аналитические запросы в режиме реального времени на структурированных больших данных
![alt text](https://github.com/username/reponame/blob/branch/path/111.png)
1.3 Документоориентированная СУБД -специально предназначенная для хранения иерархических структур данных и обычно реализуемая с помощью подхода NoSQL (MongoDB)
1.4 Графовая система управления базами данных с открытым исходным кодом, реализованная на Java Neo4j тк данные находятся узлами и рёбрами
1.5 PostgresPRO-ent-14 подойдёт везде, но Cickhouse под сокеты и быстрый быстрый crud

# **Задание 2**
2.1 Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.
- Ввод номера телефона в приложении банка (фронтэнд с передачей номера телефона в бэк и оттуда уже транзакцией в субд)
- Транзакция в субд изолируется от других транзакций, происходят уровни изоляции субд Read Committed, Repeatable Read, Serializable (взависимости от настройки)
- Запрос видит только те данные которые не зафиксированны другими запросами (транзакциями) происходит обращение к записям в бд и сравнение кол-ва денег на счету и кол-вом суммы пополнения баланса
- В момент выполнения транзакции происходит блокировка счёта для списания транзакцией денег. Если первая изменяющая транзакция откатывается, её результат отбрасывается и вторая изменяющая транзакция может продолжить изменение изначально полученной строки. Если первая транзакция зафиксировалась, но в результате удалила эту строку, вторая будет игнорировать её, а в противном случае попытается выполнить свою операцию с изменённой версией строки.
- Происходит другая транзакция - списание денег
- Зачисление денег в другую БД (протокол TLS когда канал связи шифруется и деньги скажем так списываются)

# **Задание 3**
Напишите пять преимуществ SQL-систем по отношению к NoSQL. 
- Запросы которые приводят к зависанию БД можно оптимизировать вручную
- Есть язык sql который позволяет делать всё что хочешь с бд
- Есть Shared buffers
- Есть уровни изоляций
- Есть Walwriter для восстановления
- Есть возможность разграничивать одних пользаков от других
- Можно хранить процедуры и тригеры и выполнять всё это при вставке данных
- Есть автоочичстка vacum которая работает для каждой странички
- Множество расширений пример PostgREST (api за 15 минут )

# **Задание 4**
Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.
На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?
PostgrePro-ent-14 кластер standby под управлением Patroni[ETCD] для Астралинукс или RedOS
модель вычислений CP для быстрых сравнений ввода или вывода (быстрая работа с блокировками и тд )


